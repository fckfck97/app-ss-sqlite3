{% load tailwind_tags %}

{% if messages %}
    <div class="fixed top-4 right-4 z-50">
        {% for message in messages %}
            <div x-data="{ show: true }" x-show="show" x-init="setTimeout(() => { show = false }, 5000)" class="relative max-w-xs p-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400" role="alert">
                <div class="flex items-center w-full">
                    <div class="inline-flex items-center justify-center flex-shrink-0 w-8 h-8 {% if message.level_tag == 'error' %}text-red-500 bg-red-100{% elif message.level_tag == 'warning' %}text-yellow-500 bg-yellow-100{% else %}text-green-500 bg-green-100{% endif %} rounded-lg dark:bg-dark-second dark:text-dark-txt">
                        <svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 20">
                            {% if message.level_tag == 'error' %}
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.147 15.085a7.159 7.159 0 0 1-6.189 3.307A6.713 6.713 0 0 1 3.1 15.444c-2.679-4.513.287-8.737.888-9.548A4.373 4.373 0 0 0 5 1.608c1.287.953 6.445 3.218 5.537 10.5 1.5-1.122 2.706-3.01 2.853-6.14 1.433 1.049 3.993 5.395 1.757 9.117Z"/>
                            {% elif message.level_tag == 'warning' %}
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01M12 6h.01"/>
                            {% else %}
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                            {% endif %}
                        </svg>
                        <span class="sr-only">{% if message.level_tag == 'error' %}Error{% elif message.level_tag == 'warning' %}Warning{% else %}Success{% endif %} icon</span>
                    </div>
                    <div class="ml-3 text-sm font-normal">{{ message }}</div>
                </div>
            </div>
        {% endfor %}
    </div>
{% endif %}
